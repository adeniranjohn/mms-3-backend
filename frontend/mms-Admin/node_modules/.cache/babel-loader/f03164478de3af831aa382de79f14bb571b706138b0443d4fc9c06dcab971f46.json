{"ast":null,"code":"import _defineProperty from\"/home/johnadeniran/Documents/Projects/Mentor-Management-System-Team-3/frontend/mms-Admin/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/johnadeniran/Documents/Projects/Mentor-Management-System-Team-3/frontend/mms-Admin/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/home/johnadeniran/Documents/Projects/Mentor-Management-System-Team-3/frontend/mms-Admin/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/johnadeniran/Documents/Projects/Mentor-Management-System-Team-3/frontend/mms-Admin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createAsyncThunk,createSelector,createSlice}from\"@reduxjs/toolkit\";import{useAppSelector}from\"../Store\";import{fetchPrivaciesApiAsync,updateAllPrivaciesApiAsync,updatePrivacyItemApiAsync}from\"../../axios/api-services/privacy\";import{selectCurrentUserNameSelector}from\"./current-user-slice\";function getEmptyPrivacy(){return{userId:\"\",showLinkedin:true,showTwitter:true,showGitHub:true,showInstagram:true,showContactInfo:true};}var initialState={privacy:getEmptyPrivacy()};export var updatePrivacyItem=createAsyncThunk(\"current-privacy/change-privacy-item\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(privacyDetails,thunkAPI){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return updatePrivacyItemApiAsync(privacyDetails);case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());export var updateAllPrivacies=createAsyncThunk(\"current-privacy/update-all-privacies\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(privacyDetails,thunkAPI){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return updateAllPrivaciesApiAsync(privacyDetails);case 2:return _context2.abrupt(\"return\",_context2.sent);case 3:case\"end\":return _context2.stop();}},_callee2);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}());export var fetchPrivacies=createAsyncThunk(\"current-privacy/fetch-all-privacies\",/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(thunkAPI){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetchPrivaciesApiAsync(useAppSelector(selectCurrentUserNameSelector),getEmptyPrivacy());case 2:return _context3.abrupt(\"return\",_context3.sent);case 3:case\"end\":return _context3.stop();}},_callee3);}));return function(_x5){return _ref3.apply(this,arguments);};}());export var PrivacySlice=createSlice({name:\"current-privacy\",initialState:initialState,reducers:{updateAllPrivaciesAction:function updateAllPrivaciesAction(state,action){state.privacy=action.payload;},updatePrivacyItemAction:function updatePrivacyItemAction(state,action){var obj=action.payload;obj=_objectSpread(_objectSpread({},obj),{},_defineProperty({},action.payload.key,action.payload.value));state.privacy=obj;return state;}},extraReducers:function extraReducers(builder){builder.addCase(updatePrivacyItem.fulfilled,function(state,action){var obj=action.payload;obj=_objectSpread(_objectSpread({},obj),{},_defineProperty({},action.payload.key,action.payload.value));state.privacy=obj;return state;});builder.addCase(updateAllPrivacies.fulfilled,function(state,action){state.privacy=action.payload;});builder.addCase(fetchPrivacies.fulfilled,function(state,action){state.privacy=action.payload;});}});var selectSelf=function selectSelf(state){return state.privacy;};export var selectCurrentPrivacy=createSelector([selectSelf],function(privacy){return privacy.privacy;});export var searchPrivacyByKey=createSelector([selectSelf,function(selectSelf,searchText){return searchText;}],function(selectSelf,search){return Object.entries(selectSelf.privacy).filter(function(c){return c[1];});});export default PrivacySlice.reducer;var _PrivacySlice$actions=PrivacySlice.actions,updateAllPrivaciesAction=_PrivacySlice$actions.updateAllPrivaciesAction,updatePrivacyItemAction=_PrivacySlice$actions.updatePrivacyItemAction;export{updateAllPrivaciesAction,updatePrivacyItemAction};","map":{"version":3,"names":["createAsyncThunk","createSelector","createSlice","useAppSelector","fetchPrivaciesApiAsync","updateAllPrivaciesApiAsync","updatePrivacyItemApiAsync","selectCurrentUserNameSelector","getEmptyPrivacy","userId","showLinkedin","showTwitter","showGitHub","showInstagram","showContactInfo","initialState","privacy","updatePrivacyItem","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","privacyDetails","thunkAPI","wrap","_callee$","_context","prev","next","abrupt","sent","stop","_x","_x2","apply","arguments","updateAllPrivacies","_ref2","_callee2","_callee2$","_context2","_x3","_x4","fetchPrivacies","_ref3","_callee3","_callee3$","_context3","_x5","PrivacySlice","name","reducers","updateAllPrivaciesAction","state","action","payload","updatePrivacyItemAction","obj","_objectSpread","_defineProperty","key","value","extraReducers","builder","addCase","fulfilled","selectSelf","selectCurrentPrivacy","searchPrivacyByKey","searchText","search","Object","entries","filter","c","reducer","_PrivacySlice$actions","actions"],"sources":["/home/johnadeniran/Documents/Projects/Mentor-Management-System-Team-3/frontend/mms-Admin/src/services/redux/slices/privacy-slice.ts"],"sourcesContent":["import {\n  createAsyncThunk,\n  createSelector,\n  createSlice,\n  PayloadAction,\n} from \"@reduxjs/toolkit\";\nimport { RootState, useAppSelector } from \"../Store\";\nimport { Privacy } from \"../types/privacy\";\nimport {\n  fetchPrivaciesApiAsync,\n  updateAllPrivaciesApiAsync,\n  updatePrivacyItemApiAsync,\n} from \"../../axios/api-services/privacy\";\nimport { selectCurrentUserNameSelector } from \"./current-user-slice\";\n\ninterface CurrentPrivacyState {\n  privacy: Privacy;\n}\n\nfunction getEmptyPrivacy(): Privacy {\n  return {\n    userId: \"\",\n    showLinkedin: true,\n    showTwitter: true,\n    showGitHub:  true,\n    showInstagram:  true,\n    showContactInfo:  true,\n  };\n}\n\nconst initialState: CurrentPrivacyState = {\n  privacy: getEmptyPrivacy(),\n};\n\nexport const updatePrivacyItem = createAsyncThunk(\n  \"current-privacy/change-privacy-item\",\n  async (\n    privacyDetails: { key: string; value: boolean; obj: Privacy },\n    thunkAPI\n  ) => {\n    return await updatePrivacyItemApiAsync(privacyDetails);\n  }\n);\n\nexport const updateAllPrivacies = createAsyncThunk(\n  \"current-privacy/update-all-privacies\",\n  async (privacyDetails: Privacy, thunkAPI) => {\n    return await updateAllPrivaciesApiAsync(privacyDetails);\n  }\n);\n\nexport const fetchPrivacies = createAsyncThunk(\n  \"current-privacy/fetch-all-privacies\",\n  async (thunkAPI) => {\n    return await fetchPrivaciesApiAsync(\n      useAppSelector(selectCurrentUserNameSelector),\n      getEmptyPrivacy()\n    );\n  }\n);\n\nexport const PrivacySlice = createSlice({\n  name: \"current-privacy\",\n  initialState,\n  reducers: {\n    updateAllPrivaciesAction: (\n      state,\n      action: PayloadAction<Privacy>\n    ) => {\n      state.privacy = action.payload;\n    },\n    updatePrivacyItemAction: (state, action: PayloadAction<any>) => {\n      let obj: any = action.payload;\n      obj = { ...obj, [action.payload.key]: action.payload.value };\n      state.privacy = obj;\n      return state;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(updatePrivacyItem.fulfilled, (state, action) => {\n      let obj: any = action.payload;\n      obj = { ...obj, [action.payload.key]: action.payload.value };\n      state.privacy = obj;\n      return state;\n    });\n\n    builder.addCase(updateAllPrivacies.fulfilled, (state, action) => {\n      state.privacy = action.payload;\n    });\n\n    builder.addCase(fetchPrivacies.fulfilled, (state, action) => {\n      state.privacy = action.payload;\n    });\n  },\n});\n\nconst selectSelf = (state: RootState) => state.privacy;\n\nexport const selectCurrentPrivacy = createSelector(\n  [selectSelf],\n  (privacy): Privacy => privacy.privacy\n);\n\nexport const searchPrivacyByKey = createSelector(\n  [selectSelf, (selectSelf, searchText: string) => searchText],\n  (selectSelf, search: string) => {\n    return Object.entries(selectSelf.privacy).filter((c) => c[1]);\n  }\n);\n\nexport default PrivacySlice.reducer;\nexport const { updateAllPrivaciesAction, updatePrivacyItemAction } =\n  PrivacySlice.actions;\n"],"mappings":"ysBAAA,OACEA,gBAAgB,CAChBC,cAAc,CACdC,WAAW,KAEN,kBAAkB,CACzB,OAAoBC,cAAc,KAAQ,UAAU,CAEpD,OACEC,sBAAsB,CACtBC,0BAA0B,CAC1BC,yBAAyB,KACpB,kCAAkC,CACzC,OAASC,6BAA6B,KAAQ,sBAAsB,CAMpE,QAAS,CAAAC,eAAeA,CAAA,CAAY,CAClC,MAAO,CACLC,MAAM,CAAE,EAAE,CACVC,YAAY,CAAE,IAAI,CAClBC,WAAW,CAAE,IAAI,CACjBC,UAAU,CAAG,IAAI,CACjBC,aAAa,CAAG,IAAI,CACpBC,eAAe,CAAG,IACpB,CAAC,CACH,CAEA,GAAM,CAAAC,YAAiC,CAAG,CACxCC,OAAO,CAAER,eAAe,EAC1B,CAAC,CAED,MAAO,IAAM,CAAAS,iBAAiB,CAAGjB,gBAAgB,CAC/C,qCAAqC,6BAAAkB,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CACrC,SAAAC,QACEC,cAA6D,CAC7DC,QAAQ,SAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SAEK,CAAAvB,yBAAyB,CAACiB,cAAc,CAAC,eAAAI,QAAA,CAAAG,MAAA,UAAAH,QAAA,CAAAI,IAAA,0BAAAJ,QAAA,CAAAK,IAAA,MAAAV,OAAA,GACvD,mBAAAW,EAAA,CAAAC,GAAA,SAAAhB,IAAA,CAAAiB,KAAA,MAAAC,SAAA,QACF,CAED,MAAO,IAAM,CAAAC,kBAAkB,CAAGrC,gBAAgB,CAChD,sCAAsC,6BAAAsC,KAAA,CAAAnB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CACtC,SAAAkB,SAAOhB,cAAuB,CAAEC,QAAQ,SAAAJ,mBAAA,GAAAK,IAAA,UAAAe,UAAAC,SAAA,iBAAAA,SAAA,CAAAb,IAAA,CAAAa,SAAA,CAAAZ,IAAA,SAAAY,SAAA,CAAAZ,IAAA,SACzB,CAAAxB,0BAA0B,CAACkB,cAAc,CAAC,eAAAkB,SAAA,CAAAX,MAAA,UAAAW,SAAA,CAAAV,IAAA,0BAAAU,SAAA,CAAAT,IAAA,MAAAO,QAAA,GACxD,mBAAAG,GAAA,CAAAC,GAAA,SAAAL,KAAA,CAAAH,KAAA,MAAAC,SAAA,QACF,CAED,MAAO,IAAM,CAAAQ,cAAc,CAAG5C,gBAAgB,CAC5C,qCAAqC,6BAAA6C,KAAA,CAAA1B,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CACrC,SAAAyB,SAAOtB,QAAQ,SAAAJ,mBAAA,GAAAK,IAAA,UAAAsB,UAAAC,SAAA,iBAAAA,SAAA,CAAApB,IAAA,CAAAoB,SAAA,CAAAnB,IAAA,SAAAmB,SAAA,CAAAnB,IAAA,SACA,CAAAzB,sBAAsB,CACjCD,cAAc,CAACI,6BAA6B,CAAC,CAC7CC,eAAe,EAAE,CAClB,eAAAwC,SAAA,CAAAlB,MAAA,UAAAkB,SAAA,CAAAjB,IAAA,0BAAAiB,SAAA,CAAAhB,IAAA,MAAAc,QAAA,GACF,mBAAAG,GAAA,SAAAJ,KAAA,CAAAV,KAAA,MAAAC,SAAA,QACF,CAED,MAAO,IAAM,CAAAc,YAAY,CAAGhD,WAAW,CAAC,CACtCiD,IAAI,CAAE,iBAAiB,CACvBpC,YAAY,CAAZA,YAAY,CACZqC,QAAQ,CAAE,CACRC,wBAAwB,CAAE,SAAAA,yBACxBC,KAAK,CACLC,MAA8B,CAC3B,CACHD,KAAK,CAACtC,OAAO,CAAGuC,MAAM,CAACC,OAAO,CAChC,CAAC,CACDC,uBAAuB,CAAE,SAAAA,wBAACH,KAAK,CAAEC,MAA0B,CAAK,CAC9D,GAAI,CAAAG,GAAQ,CAAGH,MAAM,CAACC,OAAO,CAC7BE,GAAG,CAAAC,aAAA,CAAAA,aAAA,IAAQD,GAAG,KAAAE,eAAA,IAAGL,MAAM,CAACC,OAAO,CAACK,GAAG,CAAGN,MAAM,CAACC,OAAO,CAACM,KAAK,EAAE,CAC5DR,KAAK,CAACtC,OAAO,CAAG0C,GAAG,CACnB,MAAO,CAAAJ,KAAK,CACd,CACF,CAAC,CACDS,aAAa,CAAE,SAAAA,cAACC,OAAO,CAAK,CAC1BA,OAAO,CAACC,OAAO,CAAChD,iBAAiB,CAACiD,SAAS,CAAE,SAACZ,KAAK,CAAEC,MAAM,CAAK,CAC9D,GAAI,CAAAG,GAAQ,CAAGH,MAAM,CAACC,OAAO,CAC7BE,GAAG,CAAAC,aAAA,CAAAA,aAAA,IAAQD,GAAG,KAAAE,eAAA,IAAGL,MAAM,CAACC,OAAO,CAACK,GAAG,CAAGN,MAAM,CAACC,OAAO,CAACM,KAAK,EAAE,CAC5DR,KAAK,CAACtC,OAAO,CAAG0C,GAAG,CACnB,MAAO,CAAAJ,KAAK,CACd,CAAC,CAAC,CAEFU,OAAO,CAACC,OAAO,CAAC5B,kBAAkB,CAAC6B,SAAS,CAAE,SAACZ,KAAK,CAAEC,MAAM,CAAK,CAC/DD,KAAK,CAACtC,OAAO,CAAGuC,MAAM,CAACC,OAAO,CAChC,CAAC,CAAC,CAEFQ,OAAO,CAACC,OAAO,CAACrB,cAAc,CAACsB,SAAS,CAAE,SAACZ,KAAK,CAAEC,MAAM,CAAK,CAC3DD,KAAK,CAACtC,OAAO,CAAGuC,MAAM,CAACC,OAAO,CAChC,CAAC,CAAC,CACJ,CACF,CAAC,CAAC,CAEF,GAAM,CAAAW,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIb,KAAgB,QAAK,CAAAA,KAAK,CAACtC,OAAO,GAEtD,MAAO,IAAM,CAAAoD,oBAAoB,CAAGnE,cAAc,CAChD,CAACkE,UAAU,CAAC,CACZ,SAACnD,OAAO,QAAc,CAAAA,OAAO,CAACA,OAAO,GACtC,CAED,MAAO,IAAM,CAAAqD,kBAAkB,CAAGpE,cAAc,CAC9C,CAACkE,UAAU,CAAE,SAACA,UAAU,CAAEG,UAAkB,QAAK,CAAAA,UAAU,GAAC,CAC5D,SAACH,UAAU,CAAEI,MAAc,CAAK,CAC9B,MAAO,CAAAC,MAAM,CAACC,OAAO,CAACN,UAAU,CAACnD,OAAO,CAAC,CAAC0D,MAAM,CAAC,SAACC,CAAC,QAAK,CAAAA,CAAC,CAAC,CAAC,CAAC,GAAC,CAC/D,CAAC,CACF,CAED,cAAe,CAAAzB,YAAY,CAAC0B,OAAO,CAC5B,IAAAC,qBAAA,CACL3B,YAAY,CAAC4B,OAAO,CADPzB,wBAAwB,CAAAwB,qBAAA,CAAxBxB,wBAAwB,CAAEI,uBAAuB,CAAAoB,qBAAA,CAAvBpB,uBAAuB,CACzC,OAAAJ,wBAAA,CAAAI,uBAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}