{"ast":null,"code":"import _regeneratorRuntime from\"/home/johnadeniran/Documents/Projects/Mentor-Management-System-Team-3/frontend/mms-Admin/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _defineProperty from\"/home/johnadeniran/Documents/Projects/Mentor-Management-System-Team-3/frontend/mms-Admin/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/johnadeniran/Documents/Projects/Mentor-Management-System-Team-3/frontend/mms-Admin/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/home/johnadeniran/Documents/Projects/Mentor-Management-System-Team-3/frontend/mms-Admin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/johnadeniran/Documents/Projects/Mentor-Management-System-Team-3/frontend/mms-Admin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Formik,Form}from\"formik\";import\"../index.css\";import ToggleSwitch from\"../../../../components/ToggleSwitch'/ToggleSwitch\";import{useAppDispatch,useAppSelector}from\"../../../../services/redux/Store\";import{selectCurrentPrivacy,updateAllPrivacies,updatePrivacyItem}from\"../../../../services/redux/slices/privacy-slice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PrivacyPage=function PrivacyPage(){var dispatch=useAppDispatch();var obj=useAppSelector(selectCurrentPrivacy);var _useState=useState(obj),_useState2=_slicedToArray(_useState,2),currentPrivacy=_useState2[0],setCurrentPrivacy=_useState2[1];var setPrivacy=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(key,value){var lastValue,obj;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:lastValue=Object.entries(currentPrivacy).filter(function(n){return n[0]===key&&n[1]===value;});if(!lastValue[1]){_context.next=3;break;}return _context.abrupt(\"return\");case 3:obj=_objectSpread(_objectSpread({},currentPrivacy),{},_defineProperty({},key,value));setCurrentPrivacy(obj);_context.next=7;return dispatch(updatePrivacyItem({key:key,value:value,obj:obj}));case 7:case\"end\":return _context.stop();}},_callee);}));return function setPrivacy(_x,_x2){return _ref.apply(this,arguments);};}();var handleSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(values){return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return dispatch(updateAllPrivacies(obj));case 2:case\"end\":return _context2.stop();}},_callee2);}));return function handleSubmit(_x3){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Formik,{initialValues:obj,onSubmit:handleSubmit,children:function children(_ref3){var errors=_ref3.errors,touched=_ref3.touched;return/*#__PURE__*/_jsx(Form,{className:\"w-full profile-form  h-screen\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col relative p-5\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row  relative  w-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"toggle-switch-label\",style:{width:\"300px\"},htmlFor:\"showContactInfo\",children:\"Show contact info\"}),/*#__PURE__*/_jsx(ToggleSwitch,{id:\"showContactInfo\",isChecked:currentPrivacy.showContactInfo,onChange:function onChange(event){return setPrivacy(\"showContactInfo\",event);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row  relative  w-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"toggle-switch-label\",style:{width:\"300px\"},htmlFor:\"showGitHub\",children:\"Show GitHub\"}),/*#__PURE__*/_jsx(ToggleSwitch,{id:\"showGitHub\",isChecked:currentPrivacy.showGitHub,onChange:function onChange(event){return setPrivacy(\"showGitHub\",event);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row  relative  w-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"toggle-switch-label\",style:{width:\"300px\"},htmlFor:\"showInstagram\",children:\"Show Instagram\"}),/*#__PURE__*/_jsx(ToggleSwitch,{id:\"showInstagram\",isChecked:currentPrivacy.showInstagram,onChange:function onChange(event){return setPrivacy(\"showInstagram\",event);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row  relative  w-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"toggle-switch-label\",style:{width:\"300px\"},htmlFor:\"showLinkedin\",children:\"Show linkedin\"}),/*#__PURE__*/_jsx(ToggleSwitch,{id:\"showLinkedin\",isChecked:currentPrivacy.showLinkedin,onChange:function onChange(event){return setPrivacy(\"showLinkedin\",event);}})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row  relative  w-full\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"toggle-switch-label\",style:{width:\"300px\"},htmlFor:\"showTwitter\",children:\"Show Twitter\"}),/*#__PURE__*/_jsx(ToggleSwitch,{id:\"showTwitter\",isChecked:currentPrivacy.showTwitter,onChange:function onChange(event){return setPrivacy(\"showTwitter\",event);}})]})})]})});}})});};export default PrivacyPage;","map":{"version":3,"names":["React","useState","Formik","Form","ToggleSwitch","useAppDispatch","useAppSelector","selectCurrentPrivacy","updateAllPrivacies","updatePrivacyItem","jsx","_jsx","jsxs","_jsxs","PrivacyPage","dispatch","obj","_useState","_useState2","_slicedToArray","currentPrivacy","setCurrentPrivacy","setPrivacy","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","key","value","lastValue","wrap","_callee$","_context","prev","next","Object","entries","filter","n","abrupt","_objectSpread","_defineProperty","stop","_x","_x2","apply","arguments","handleSubmit","_ref2","_callee2","values","_callee2$","_context2","_x3","children","initialValues","onSubmit","_ref3","errors","touched","className","style","width","htmlFor","id","isChecked","showContactInfo","onChange","event","showGitHub","showInstagram","showLinkedin","showTwitter"],"sources":["/home/johnadeniran/Documents/Projects/Mentor-Management-System-Team-3/frontend/mms-Admin/src/views/dashboard/SwitchComponents/SettingsComponents/privacy.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Formik, Form } from \"formik\";\nimport \"../index.css\";\nimport ToggleSwitch from \"../../../../components/ToggleSwitch'/ToggleSwitch\";\nimport { useAppDispatch, useAppSelector } from \"../../../../services/redux/Store\";\nimport { selectCurrentPrivacy, updateAllPrivacies, updatePrivacyItem } from \"../../../../services/redux/slices/privacy-slice\";\nimport { Privacy } from \"../../../../services/redux/types/privacy\";\n\n\nconst PrivacyPage: React.FC = () => {\n  const dispatch = useAppDispatch();\n  const obj = useAppSelector(selectCurrentPrivacy);\n  const [currentPrivacy, setCurrentPrivacy] = useState(obj);\n\n  const setPrivacy = async (key: string, value: boolean) => {\n    var lastValue = Object.entries(currentPrivacy)\n      .filter(n => n[0] === key && n[1] === value);\n\n    if (lastValue[1])\n      return;\n\n    const obj = { ...currentPrivacy, [key]: value };\n    setCurrentPrivacy(obj);\n    await dispatch(updatePrivacyItem({ key, value, obj }));\n  }\n\n  const handleSubmit = async (values: Privacy) => {\n    await dispatch(updateAllPrivacies(obj));\n  };\n\n  return (\n    <div>\n      <Formik\n        initialValues={obj}\n        onSubmit={handleSubmit}\n      >\n        {({ errors, touched }) => (\n          <Form className=\"w-full profile-form  h-screen\">\n            <div className=\"flex flex-col relative p-5\">\n              <div className=\"mb-2\">\n                <div className=\"flex flex-row  relative  w-full\">\n                  <label\n                    className=\"toggle-switch-label\"\n                    style={{ width: \"300px\" }}\n                    htmlFor=\"showContactInfo\"\n                  >\n                    Show contact info\n                  </label>\n                  <ToggleSwitch\n                    id=\"showContactInfo\"\n                    isChecked={currentPrivacy.showContactInfo}\n                    onChange={(event) => setPrivacy(\"showContactInfo\", event)}\n                  />\n                </div>\n              </div>\n\n              <div className=\"mb-2\">\n                <div className=\"flex flex-row  relative  w-full\">\n                  <label\n                    className=\"toggle-switch-label\"\n                    style={{ width: \"300px\" }}\n                    htmlFor=\"showGitHub\"\n                  >\n                    Show GitHub\n                  </label>\n                  <ToggleSwitch\n                    id=\"showGitHub\"\n                    isChecked={currentPrivacy.showGitHub}\n                    onChange={(event) => setPrivacy(\"showGitHub\", event)}\n                  />\n                </div>\n              </div>\n\n              <div className=\"mb-2\">\n                <div className=\"flex flex-row  relative  w-full\">\n                  <label\n                    className=\"toggle-switch-label\"\n                    style={{ width: \"300px\" }}\n                    htmlFor=\"showInstagram\"\n                  >\n                    Show Instagram\n                  </label>\n                  <ToggleSwitch\n                    id=\"showInstagram\"\n                    isChecked={currentPrivacy.showInstagram}\n                    onChange={(event) => setPrivacy(\"showInstagram\", event)}\n                  />\n                </div>\n              </div>\n\n              <div className=\"mb-2\">\n                <div className=\"flex flex-row  relative  w-full\">\n                  <label\n                    className=\"toggle-switch-label\"\n                    style={{ width: \"300px\" }}\n                    htmlFor=\"showLinkedin\"\n                  >\n                    Show linkedin\n                  </label>\n                  <ToggleSwitch\n                    id=\"showLinkedin\"\n                    isChecked={currentPrivacy.showLinkedin}\n                    onChange={(event) => setPrivacy(\"showLinkedin\", event)}\n                  />\n                </div>\n              </div>\n\n              <div className=\"mb-2\">\n                <div className=\"flex flex-row  relative  w-full\">\n                  <label\n                    className=\"toggle-switch-label\"\n                    style={{ width: \"300px\" }}\n                    htmlFor=\"showTwitter\"\n                  >\n                    Show Twitter\n                  </label>\n                  <ToggleSwitch\n                    id=\"showTwitter\"\n                    isChecked={currentPrivacy.showTwitter}\n                    onChange={(event) => setPrivacy(\"showTwitter\", event)}\n                  />\n                </div>\n              </div>\n            </div>\n          </Form>\n        )}\n      </Formik>\n    </div>\n  );\n};\n\nexport default PrivacyPage;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}