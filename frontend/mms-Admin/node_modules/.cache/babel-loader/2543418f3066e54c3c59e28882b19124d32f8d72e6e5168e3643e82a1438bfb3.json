{"ast":null,"code":"var _jsxFileName = \"/home/johnadeniran/Documents/Projects/Mentor-Management-System-Team-3/frontend/mms-Admin/src/components/protectedRoute.tsx\",\n  _s2 = $RefreshSig$();\nimport { Navigate, Outlet } from \"react-router-dom\";\nimport { selectCurrentUser } from \"../services/redux/slices/current-user-slice\";\nimport { useAppSelector } from \"../services/redux/Store\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ProtectedRoutes = () => {\n  _s2();\n  var _s = $RefreshSig$();\n  const useAuth = () => {\n    _s();\n    const user = useAppSelector(selectCurrentUser);\n    if (user) {\n      return {\n        auth: true,\n        role: user.userRole\n      };\n    } else {\n      return {\n        auth: false,\n        role: undefined\n      };\n    }\n  };\n  _s(useAuth, \"NtszqfuTDJ6hATq0tFhTYR1Hflk=\", false, function () {\n    return [useAppSelector];\n  });\n  const {\n    auth,\n    role\n  } = useAuth();\n  console.log(auth, role);\n  if (auth && role !== null && role !== void 0 && role.toLowerCase().includes(\"admin\")) return /*#__PURE__*/_jsxDEV(Outlet, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 17\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Navigate, {\n    to: \"/login\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 12\n  }, this);\n  // return auth ? <PermissionDenied /> : <Navigate to=\"/login\" />\n};\n_s2(ProtectedRoutes, \"rXxPz2KotW4IrQIg9RyTViSBw5g=\", true);\n_c = ProtectedRoutes;\nexport default ProtectedRoutes;\nvar _c;\n$RefreshReg$(_c, \"ProtectedRoutes\");","map":{"version":3,"names":["Navigate","Outlet","selectCurrentUser","useAppSelector","jsxDEV","_jsxDEV","ProtectedRoutes","_s2","_s","$RefreshSig$","useAuth","user","auth","role","userRole","undefined","console","log","toLowerCase","includes","fileName","_jsxFileName","lineNumber","columnNumber","to","_c","$RefreshReg$"],"sources":["/home/johnadeniran/Documents/Projects/Mentor-Management-System-Team-3/frontend/mms-Admin/src/components/protectedRoute.tsx"],"sourcesContent":["import { Navigate, Outlet } from \"react-router-dom\"\nimport {\n    selectCurrentUser\n} from \"../services/redux/slices/current-user-slice\";\nimport {\n    useAppSelector\n} from \"../services/redux/Store\";\nimport PermissionDenied from \"../views/permissionDenied\";\n\n\nconst ProtectedRoutes = () => {\n    const useAuth = (): { auth: boolean, role: string | undefined } => {\n        const user = useAppSelector(selectCurrentUser);\n        if (user) {\n            return {\n                auth: true,\n                role: user.userRole,\n            }\n        } else {\n            return {\n                auth: false,\n                role: undefined,\n            }\n        }\n    }\n\n    const { auth, role } = useAuth();\n    console.log(auth, role);\n\n    if (auth && role?.toLowerCase().includes(\"admin\"))\n        return (<Outlet />);\n    return <Navigate to=\"/login\" />\n        // return auth ? <PermissionDenied /> : <Navigate to=\"/login\" />\n}\n\nexport default ProtectedRoutes\n\n"],"mappings":";;AAAA,SAASA,QAAQ,EAAEC,MAAM,QAAQ,kBAAkB;AACnD,SACIC,iBAAiB,QACd,6CAA6C;AACpD,SACIC,cAAc,QACX,yBAAyB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAIjC,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAAA,IAAAC,EAAA,GAAAC,YAAA;EAC1B,MAAMC,OAAO,GAAGA,CAAA,KAAmD;IAAAF,EAAA;IAC/D,MAAMG,IAAI,GAAGR,cAAc,CAACD,iBAAiB,CAAC;IAC9C,IAAIS,IAAI,EAAE;MACN,OAAO;QACHC,IAAI,EAAE,IAAI;QACVC,IAAI,EAAEF,IAAI,CAACG;MACf,CAAC;IACL,CAAC,MAAM;MACH,OAAO;QACHF,IAAI,EAAE,KAAK;QACXC,IAAI,EAAEE;MACV,CAAC;IACL;EACJ,CAAC;EAAAP,EAAA,CAbKE,OAAO;IAAA,QACIP,cAAc;EAAA;EAc/B,MAAM;IAAES,IAAI;IAAEC;EAAK,CAAC,GAAGH,OAAO,EAAE;EAChCM,OAAO,CAACC,GAAG,CAACL,IAAI,EAAEC,IAAI,CAAC;EAEvB,IAAID,IAAI,IAAIC,IAAI,aAAJA,IAAI,eAAJA,IAAI,CAAEK,WAAW,EAAE,CAACC,QAAQ,CAAC,OAAO,CAAC,EAC7C,oBAAQd,OAAA,CAACJ,MAAM;IAAAmB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAAG;EACtB,oBAAOlB,OAAA,CAACL,QAAQ;IAACwB,EAAE,EAAC;EAAQ;IAAAJ,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAAG;EAC3B;AACR,CAAC;AAAAhB,GAAA,CAvBKD,eAAe;AAAAmB,EAAA,GAAfnB,eAAe;AAyBrB,eAAeA,eAAe;AAAA,IAAAmB,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}