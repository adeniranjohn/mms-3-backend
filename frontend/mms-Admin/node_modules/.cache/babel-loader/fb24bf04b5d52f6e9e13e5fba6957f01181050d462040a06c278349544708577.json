{"ast":null,"code":"import{Navigate,Outlet}from\"react-router-dom\";import{selectCurrentUser}from\"../services/redux/slices/current-user-slice\";import{useAppSelector}from\"../services/redux/Store\";import PermissionDenied from\"../views/permissionDenied\";import{jsx as _jsx}from\"react/jsx-runtime\";var ProtectedRoutes=function ProtectedRoutes(){var useAuth=function useAuth(){var user=useAppSelector(selectCurrentUser);if(user){return{auth:true,role:user.userRole};}else{return{auth:false,role:undefined};}};var _useAuth=useAuth(),auth=_useAuth.auth,role=_useAuth.role;console.log(auth,role);if(auth&&role!==null&&role!==void 0&&role.toLowerCase().includes(\"admin\"))return/*#__PURE__*/_jsx(Outlet,{});return auth?/*#__PURE__*/_jsx(PermissionDenied,{}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"});};export default ProtectedRoutes;","map":{"version":3,"names":["Navigate","Outlet","selectCurrentUser","useAppSelector","PermissionDenied","jsx","_jsx","ProtectedRoutes","useAuth","user","auth","role","userRole","undefined","_useAuth","console","log","toLowerCase","includes","to"],"sources":["/home/johnadeniran/Documents/Projects/Mentor-Management-System-Team-3/frontend/mms-Admin/src/components/protectedRoute.tsx"],"sourcesContent":["import { Navigate, Outlet } from \"react-router-dom\"\nimport {\n    selectCurrentUser\n} from \"../services/redux/slices/current-user-slice\";\nimport {\n    useAppSelector\n} from \"../services/redux/Store\";\nimport PermissionDenied from \"../views/permissionDenied\";\n\n\nconst ProtectedRoutes = () => {\n    const useAuth = (): { auth: boolean, role: string | undefined } => {\n        const user = useAppSelector(selectCurrentUser);\n        if (user) {\n            return {\n                auth: true,\n                role: user.userRole,\n            }\n        } else {\n            return {\n                auth: false,\n                role: undefined,\n            }\n        }\n    }\n\n    const { auth, role } = useAuth();\n    console.log(auth, role);\n\n    if (auth && role?.toLowerCase().includes(\"admin\"))\n        return (<Outlet />);\n    return auth ? <PermissionDenied /> : <Navigate to=\"/login\" />\n}\n\nexport default ProtectedRoutes\n\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,MAAM,KAAQ,kBAAkB,CACnD,OACIC,iBAAiB,KACd,6CAA6C,CACpD,OACIC,cAAc,KACX,yBAAyB,CAChC,MAAO,CAAAC,gBAAgB,KAAM,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAGzD,GAAM,CAAAC,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAA,CAAS,CAC1B,GAAM,CAAAC,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAA,CAAsD,CAC/D,GAAM,CAAAC,IAAI,CAAGN,cAAc,CAACD,iBAAiB,CAAC,CAC9C,GAAIO,IAAI,CAAE,CACN,MAAO,CACHC,IAAI,CAAE,IAAI,CACVC,IAAI,CAAEF,IAAI,CAACG,QACf,CAAC,CACL,CAAC,IAAM,CACH,MAAO,CACHF,IAAI,CAAE,KAAK,CACXC,IAAI,CAAEE,SACV,CAAC,CACL,CACJ,CAAC,CAED,IAAAC,QAAA,CAAuBN,OAAO,EAAE,CAAxBE,IAAI,CAAAI,QAAA,CAAJJ,IAAI,CAAEC,IAAI,CAAAG,QAAA,CAAJH,IAAI,CAClBI,OAAO,CAACC,GAAG,CAACN,IAAI,CAAEC,IAAI,CAAC,CAEvB,GAAID,IAAI,EAAIC,IAAI,SAAJA,IAAI,WAAJA,IAAI,CAAEM,WAAW,EAAE,CAACC,QAAQ,CAAC,OAAO,CAAC,CAC7C,mBAAQZ,IAAA,CAACL,MAAM,IAAG,CACtB,MAAO,CAAAS,IAAI,cAAGJ,IAAA,CAACF,gBAAgB,IAAG,cAAGE,IAAA,CAACN,QAAQ,EAACmB,EAAE,CAAC,QAAQ,EAAG,CACjE,CAAC,CAED,cAAe,CAAAZ,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}