{"ast":null,"code":"var _s = $RefreshSig$();\nimport { createAsyncThunk, createSelector, createSlice } from \"@reduxjs/toolkit\";\nimport { useAppSelector } from \"../Store\";\nimport { fetchPrivaciesApiAsync, updateAllPrivaciesApiAsync, updatePrivacyItemApiAsync } from \"../../axios/api-services/privacy\";\nimport { selectCurrentUserNameSelector } from \"./current-user-slice\";\nfunction getEmptyPrivacy() {\n  return {\n    userId: \"\",\n    showLinkedin: true,\n    showTwitter: true,\n    showGitHub: true,\n    showInstagram: true,\n    showContactInfo: true\n  };\n}\nconst initialState = {\n  privacy: getEmptyPrivacy()\n};\nexport const updatePrivacyItem = createAsyncThunk(\"current-privacy/change-privacy-item\", async (privacyDetails, thunkAPI) => {\n  return await updatePrivacyItemApiAsync(privacyDetails);\n});\nexport const updateAllPrivacies = createAsyncThunk(\"current-privacy/update-all-privacies\", async (privacyDetails, thunkAPI) => {\n  return await updateAllPrivaciesApiAsync(privacyDetails);\n});\nexport const fetchPrivacies = _s(createAsyncThunk(\"current-privacy/fetch-all-privacies\", _s(async thunkAPI => {\n  _s();\n  return await fetchPrivaciesApiAsync(useAppSelector(selectCurrentUserNameSelector), getEmptyPrivacy());\n}, \"bRaY7Fsh/GrWHjZMhGvF04Z7BZI=\", false, function () {\n  return [useAppSelector];\n})), \"bRaY7Fsh/GrWHjZMhGvF04Z7BZI=\", false, function () {\n  return [useAppSelector];\n});\nexport const PrivacySlice = createSlice({\n  name: \"current-privacy\",\n  initialState,\n  reducers: {\n    updateAllPrivaciesAction: (state, action) => {\n      state.privacy = action.payload;\n    },\n    updatePrivacyItemAction: (state, action) => {\n      let obj = action.payload;\n      obj = {\n        ...obj,\n        [action.payload.key]: action.payload.value\n      };\n      state.privacy = obj;\n      return state;\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(updatePrivacyItem.fulfilled, (state, action) => {\n      let obj = action.payload;\n      obj = {\n        ...obj,\n        [action.payload.key]: action.payload.value\n      };\n      state.privacy = obj;\n      return state;\n    });\n    builder.addCase(updateAllPrivacies.fulfilled, (state, action) => {\n      state.privacy = action.payload;\n    });\n    builder.addCase(fetchPrivacies.fulfilled, (state, action) => {\n      state.privacy = action.payload;\n    });\n  }\n});\nconst selectSelf = state => state.privacy;\nexport const selectCurrentPrivacy = createSelector([selectSelf], privacy => privacy.privacy);\nexport const searchPrivacyByKey = createSelector([selectSelf, (selectSelf, searchText) => searchText], (selectSelf, search) => {\n  return Object.entries(selectSelf.privacy).filter(c => c[1]);\n});\nexport default PrivacySlice.reducer;\nexport const {\n  updateAllPrivaciesAction,\n  updatePrivacyItemAction\n} = PrivacySlice.actions;","map":{"version":3,"names":["createAsyncThunk","createSelector","createSlice","useAppSelector","fetchPrivaciesApiAsync","updateAllPrivaciesApiAsync","updatePrivacyItemApiAsync","selectCurrentUserNameSelector","getEmptyPrivacy","userId","showLinkedin","showTwitter","showGitHub","showInstagram","showContactInfo","initialState","privacy","updatePrivacyItem","privacyDetails","thunkAPI","updateAllPrivacies","fetchPrivacies","_s","PrivacySlice","name","reducers","updateAllPrivaciesAction","state","action","payload","updatePrivacyItemAction","obj","key","value","extraReducers","builder","addCase","fulfilled","selectSelf","selectCurrentPrivacy","searchPrivacyByKey","searchText","search","Object","entries","filter","c","reducer","actions"],"sources":["/home/johnadeniran/Documents/Projects/Mentor-Management-System-Team-3/frontend/mms-Admin/src/services/redux/slices/privacy-slice.ts"],"sourcesContent":["import {\n  createAsyncThunk,\n  createSelector,\n  createSlice,\n  PayloadAction,\n} from \"@reduxjs/toolkit\";\nimport { RootState, useAppSelector } from \"../Store\";\nimport { Privacy } from \"../types/privacy\";\nimport {\n  fetchPrivaciesApiAsync,\n  updateAllPrivaciesApiAsync,\n  updatePrivacyItemApiAsync,\n} from \"../../axios/api-services/privacy\";\nimport { selectCurrentUserNameSelector } from \"./current-user-slice\";\n\ninterface CurrentPrivacyState {\n  privacy: Privacy;\n}\n\nfunction getEmptyPrivacy(): Privacy {\n  return {\n    userId: \"\",\n    showLinkedin: true,\n    showTwitter: true,\n    showGitHub:  true,\n    showInstagram:  true,\n    showContactInfo:  true,\n  };\n}\n\nconst initialState: CurrentPrivacyState = {\n  privacy: getEmptyPrivacy(),\n};\n\nexport const updatePrivacyItem = createAsyncThunk(\n  \"current-privacy/change-privacy-item\",\n  async (\n    privacyDetails: { key: string; value: boolean; obj: Privacy },\n    thunkAPI\n  ) => {\n    return await updatePrivacyItemApiAsync(privacyDetails);\n  }\n);\n\nexport const updateAllPrivacies = createAsyncThunk(\n  \"current-privacy/update-all-privacies\",\n  async (privacyDetails: Privacy, thunkAPI) => {\n    return await updateAllPrivaciesApiAsync(privacyDetails);\n  }\n);\n\nexport const fetchPrivacies = createAsyncThunk(\n  \"current-privacy/fetch-all-privacies\",\n  async (thunkAPI) => {\n    return await fetchPrivaciesApiAsync(\n      useAppSelector(selectCurrentUserNameSelector),\n      getEmptyPrivacy()\n    );\n  }\n);\n\nexport const PrivacySlice = createSlice({\n  name: \"current-privacy\",\n  initialState,\n  reducers: {\n    updateAllPrivaciesAction: (\n      state,\n      action: PayloadAction<Privacy>\n    ) => {\n      state.privacy = action.payload;\n    },\n    updatePrivacyItemAction: (state, action: PayloadAction<any>) => {\n      let obj: any = action.payload;\n      obj = { ...obj, [action.payload.key]: action.payload.value };\n      state.privacy = obj;\n      return state;\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(updatePrivacyItem.fulfilled, (state, action) => {\n      let obj: any = action.payload;\n      obj = { ...obj, [action.payload.key]: action.payload.value };\n      state.privacy = obj;\n      return state;\n    });\n\n    builder.addCase(updateAllPrivacies.fulfilled, (state, action) => {\n      state.privacy = action.payload;\n    });\n\n    builder.addCase(fetchPrivacies.fulfilled, (state, action) => {\n      state.privacy = action.payload;\n    });\n  },\n});\n\nconst selectSelf = (state: RootState) => state.privacy;\n\nexport const selectCurrentPrivacy = createSelector(\n  [selectSelf],\n  (privacy): Privacy => privacy.privacy\n);\n\nexport const searchPrivacyByKey = createSelector(\n  [selectSelf, (selectSelf, searchText: string) => searchText],\n  (selectSelf, search: string) => {\n    return Object.entries(selectSelf.privacy).filter((c) => c[1]);\n  }\n);\n\nexport default PrivacySlice.reducer;\nexport const { updateAllPrivaciesAction, updatePrivacyItemAction } =\n  PrivacySlice.actions;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}