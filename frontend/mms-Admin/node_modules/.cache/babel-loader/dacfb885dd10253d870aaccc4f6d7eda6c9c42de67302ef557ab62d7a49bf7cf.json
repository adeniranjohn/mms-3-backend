{"ast":null,"code":"import _regeneratorRuntime from\"/home/johnadeniran/Documents/Projects/Mentor-Management-System-Team-3/frontend/mms-Admin/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/home/johnadeniran/Documents/Projects/Mentor-Management-System-Team-3/frontend/mms-Admin/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/home/johnadeniran/Documents/Projects/Mentor-Management-System-Team-3/frontend/mms-Admin/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/johnadeniran/Documents/Projects/Mentor-Management-System-Team-3/frontend/mms-Admin/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{Formik,Form,Field}from\"formik\";import*as Yup from\"yup\";import\"./LoginForm.css\";import FormikValidationMessageComponent from\"./../../components/error-messages/formik-validation-message-component\";import{useAppDispatch}from\"./../../services/redux/Store\";import logo from\"../../assets/images/mms_logo.svg\";import{loginCurrentUser}from\"./../../services/redux/slices/current-user-slice\";import{useNavigate}from\"react-router-dom\";import SVG_ICONS from\"../../assets/svg-icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PasswordPage=function PasswordPage(){var initialValues={username:\"admin@mmsa.com\",password:\"test1234@QW\"};var dispatch=useAppDispatch();var navigate=useNavigate();var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),errorMessage=_useState2[0],setErrorMessage=_useState2[1];var validationSchema=Yup.object().shape({username:Yup.string().required(\"Email is required please\").email(\"It should be a valid email address\"),password:Yup.string().required(\"Password is required please\")});var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showPassword=_useState4[0],setShowPassword=_useState4[1];var showErrorMessage=function showErrorMessage(tt){if(tt instanceof Error)setErrorMessage(tt.message);else setErrorMessage(tt);};var handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(values){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return dispatch(loginCurrentUser(_objectSpread(_objectSpread({},values),{},{afterSuccessful:function afterSuccessful(){navigate(\"/dashboard\");},afterUnSuccessful:function afterUnSuccessful(tt){console.log(tt);showErrorMessage(tt);}}))).catch(function(err){return showErrorMessage(err);});case 3:_context.next=9;break;case 5:_context.prev=5;_context.t0=_context[\"catch\"](0);console.error(\"Your email or password is wrong\",_context.t0);showErrorMessage(_context.t0.message);case 9:case\"end\":return _context.stop();}},_callee,null,[[0,5]]);}));return function handleSubmit(_x){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Formik,{initialValues:initialValues,validationSchema:validationSchema,onSubmit:handleSubmit,children:function children(_ref2){var errors=_ref2.errors,touched=_ref2.touched;return/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full h-screen flex-wrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-6/12 bg-green-three flex flex-col content-center justify-center\",children:/*#__PURE__*/_jsxs(\"figure\",{className:\"flex flex-col items-center jusfify-center bg-green-three w-full\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"w-60 h-50 mb-5\",src:logo,alt:\"MMS Logo\"}),/*#__PURE__*/_jsx(\"figcaption\",{className:\"text-white font-bold\",children:\"Mentor Management System\"})]})}),/*#__PURE__*/_jsx(Form,{className:\"w-6/12 flex flex-col content-center justify-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"w-3/5 m-auto\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"title-text\",children:\"Welcome!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"sub-title-text\",children:\"Login to continue\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"my-0\",children:[/*#__PURE__*/_jsx(Field,{type:\"text\",id:\"username\",name:\"username\",placeholder:\"Email\",className:\"text-input w-full ms-1 border-2 border-lightGray-two rounded-[5px] text-[15px] \"}),/*#__PURE__*/_jsx(FormikValidationMessageComponent,{name:\"username\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative my-0\",children:[/*#__PURE__*/_jsx(Field,{type:showPassword?\"text\":\"password\",id:\"password\",name:\"password\",placeholder:\"Password\",className:\"p-[10px] border-2 rounded-[5px] p-5 text-[20px] my-2 w-full text-input my-5\"}),/*#__PURE__*/_jsx(\"button\",{className:\"transform -translate-y-1/2 focus:outline-none m_icon\",type:\"button\",onClick:function onClick(){setShowPassword(!showPassword);},children:showPassword?SVG_ICONS.PASSWORD.SHOW:SVG_ICONS.PASSWORD.HIDE}),/*#__PURE__*/_jsx(FormikValidationMessageComponent,{name:\"password\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"bg-green-three text-white shadow appearance-none border rounded w-full py-2 px-3 m-2 leading-tight focus:outline-none focus:shadow-outline\",children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"/forgotpassword\",className:\"text-sm text-customBlack-one text-end w-full py-2 px-3 m-2\",children:\"Forgot password?\"}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\"//onClick={handleSubmit}\n,className:\" flex flex-row justify-center items-center bg-white text-green-two shadow appearance-none border rounded w-full py-2 px-3 m-2 leading-tight focus:outline-none focus:shadow-outline\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"h-5 w-5 mx-2\",src:\"/images/google.png\",alt:\"Google\"}),/*#__PURE__*/_jsx(\"span\",{className:\"mx-2\",children:\"Sign in with Google\"})]}),/*#__PURE__*/_jsx(\"h5\",{style:{color:\"orangered\"},className:\"text-1xl font-bold mt-4\",children:errorMessage})]})]})})]});}})});};export default PasswordPage;","map":{"version":3,"names":["React","useState","Formik","Form","Field","Yup","FormikValidationMessageComponent","useAppDispatch","logo","loginCurrentUser","useNavigate","SVG_ICONS","jsx","_jsx","jsxs","_jsxs","PasswordPage","initialValues","username","password","dispatch","navigate","_useState","_useState2","_slicedToArray","errorMessage","setErrorMessage","validationSchema","object","shape","string","required","email","_useState3","_useState4","showPassword","setShowPassword","showErrorMessage","tt","Error","message","handleSubmit","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","values","wrap","_callee$","_context","prev","next","_objectSpread","afterSuccessful","afterUnSuccessful","console","log","catch","err","t0","error","stop","_x","apply","arguments","children","onSubmit","_ref2","errors","touched","className","src","alt","type","id","name","placeholder","onClick","PASSWORD","SHOW","HIDE","href","style","color"],"sources":["/home/johnadeniran/Documents/Projects/Mentor-Management-System-Team-3/frontend/mms-Admin/src/views/login/LoginForm.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport { Formik, Form, Field } from \"formik\";\nimport * as Yup from \"yup\";\nimport \"./LoginForm.css\";\nimport FormikValidationMessageComponent from \"./../../components/error-messages/formik-validation-message-component\";\nimport { UsernamePassword } from \"../../services/redux/types/system-user\";\nimport { useAppDispatch } from \"./../../services/redux/Store\";\nimport logo from \"../../assets/images/mms_logo.svg\";\nimport { loginCurrentUser } from \"./../../services/redux/slices/current-user-slice\";\nimport { useNavigate } from \"react-router-dom\";\nimport SVG_ICONS from \"../../assets/svg-icons\";\n\nconst PasswordPage: React.FC = () => {\n  const initialValues: UsernamePassword = {\n    username: \"admin@mmsa.com\",\n    password: \"test1234@QW\",\n  };\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const validationSchema = Yup.object().shape({\n    username: Yup.string().required(\"Email is required please\").email(\"It should be a valid email address\"),\n    password: Yup.string().required(\"Password is required please\"),\n  });\n  const [showPassword, setShowPassword] = useState<boolean>(false);\n\n  const showErrorMessage = (tt: any) => {\n    if (tt instanceof Error) setErrorMessage(tt.message);\n    else setErrorMessage(tt);\n  };\n\n  const handleSubmit = async (values: UsernamePassword) => {\n    try {\n      await dispatch(\n        loginCurrentUser({\n          ...values,\n          afterSuccessful: () => {\n            navigate(\"/dashboard\");\n           },\n          afterUnSuccessful: (tt) => {\n            console.log(tt);\n            showErrorMessage(tt);\n          },\n        })\n      ).catch(err =>  showErrorMessage(err));\n    } catch (error: any) {\n      console.error(\"Your email or password is wrong\", error);\n      showErrorMessage(error.message);\n    }\n  };\n\n  return (\n    <div>\n      <Formik\n        initialValues={initialValues}\n        validationSchema={validationSchema}\n        onSubmit={handleSubmit}\n      >\n        {({ errors, touched }) => (\n          <div className=\"flex w-full h-screen flex-wrap\">\n            <div className=\"w-6/12 bg-green-three flex flex-col content-center justify-center\">\n              <figure className=\"flex flex-col items-center jusfify-center bg-green-three w-full\">\n                <img className=\"w-60 h-50 mb-5\" src={logo} alt=\"MMS Logo\" />\n                <figcaption className=\"text-white font-bold\">\n                  Mentor Management System\n                </figcaption>\n              </figure>\n            </div>\n            <Form className=\"w-6/12 flex flex-col content-center justify-center\">\n              <div className=\"w-3/5 m-auto\">\n                <h1 className=\"title-text\">Welcome!</h1>\n                <p className=\"sub-title-text\">Login to continue</p>\n                <div className=\"my-0\">\n                  <Field\n                    type=\"text\"\n                    id=\"username\"\n                    name=\"username\"\n                    placeholder=\"Email\"\n                    className=\"text-input w-full ms-1 border-2 border-lightGray-two rounded-[5px] text-[15px] \"\n                  />\n                  <FormikValidationMessageComponent name=\"username\" />\n                </div>\n                <div className=\"relative my-0\">\n                  <Field\n                    type={showPassword ? \"text\" : \"password\"}\n                    id=\"password\"\n                    name=\"password\"\n                    placeholder=\"Password\"\n                    className=\"p-[10px] border-2 rounded-[5px] p-5 text-[20px] my-2 w-full text-input my-5\"\n                  />\n                  <button\n                    className=\"transform -translate-y-1/2 focus:outline-none m_icon\"\n                    type=\"button\"                \n                    onClick={() => {\n                      setShowPassword(!showPassword);\n                    }}\n                  >\n                    {showPassword\n                      ? SVG_ICONS.PASSWORD.SHOW\n                      : SVG_ICONS.PASSWORD.HIDE}\n                  </button>\n                  <FormikValidationMessageComponent name=\"password\" />\n                </div>\n                <button\n                  type=\"submit\"\n                  className=\"bg-green-three text-white shadow appearance-none border rounded w-full py-2 px-3 m-2 leading-tight focus:outline-none focus:shadow-outline\"\n                >\n                  Login\n                </button>\n                <div className=\"flex flex-col\">\n                  <a\n                    href=\"/forgotpassword\"\n                    className=\"text-sm text-customBlack-one text-end w-full py-2 px-3 m-2\"\n                  >\n                    Forgot password?\n                  </a>\n                  <button\n                    type=\"button\"\n                    //onClick={handleSubmit}\n                    className=\" flex flex-row justify-center items-center bg-white text-green-two shadow appearance-none border rounded w-full py-2 px-3 m-2 leading-tight focus:outline-none focus:shadow-outline\"\n                  >\n                    <img\n                      className=\"h-5 w-5 mx-2\"\n                      src=\"/images/google.png\"\n                      alt=\"Google\"\n                    />\n                    <span className=\"mx-2\">Sign in with Google</span>\n                  </button>\n                  <h5\n                    style={{ color: \"orangered\" }}\n                    className=\"text-1xl font-bold mt-4\"\n                  >\n                    {errorMessage}\n                  </h5>                 \n                </div>\n              </div>\n            </Form>\n          </div>\n        )}\n      </Formik>\n    </div>\n  );\n};\n\nexport default PasswordPage;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}